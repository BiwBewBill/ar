<!DOCTYPE html>
<html>
<head>
    <title>AR Weather Station (Smart UI)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

    <style>
        /* ‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (UI Overlay) */
        .ui-container {
            position: fixed;
            bottom: 30px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 15px;
            z-index: 999; /* ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏†‡∏≤‡∏û AR */
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 30px;
            font-family: Arial, sans-serif;
            font-weight: bold;
            font-size: 16px;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            transition: transform 0.1s, filter 0.2s;
            cursor: pointer;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        .btn:active {
            transform: scale(0.95);
        }

        .btn-sun { background: linear-gradient(135deg, #FFC107, #FF9800); }
        .btn-rain { background: linear-gradient(135deg, #2196F3, #3F51B5); }
        .btn-night { background: linear-gradient(135deg, #34495E, #2C3E50); }

        /* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ */
        #status-text {
            position: fixed;
            top: 20px;
            width: 100%;
            text-align: center;
            color: white;
            font-family: Arial, sans-serif;
            text-shadow: 2px 2px 4px black;
            font-size: 18px;
            z-index: 999;
            pointer-events: none;
        }
    </style>

    <script>
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®
        function setWeather(type) {
            // ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÉ‡∏ô A-Frame
            const sun = document.querySelector('#sun');
            const rain = document.querySelector('#rain');
            const night = document.querySelector('#night');
            const light = document.querySelector('#dir-light');
            const env = document.querySelector('#env-base');
            const status = document.querySelector('#status-text');

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ AR Scene ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
            if (!sun || !rain) return;

            // Reset (‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
            sun.setAttribute('visible', 'false');
            rain.setAttribute('visible', 'false');
            night.setAttribute('visible', 'false');

            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
            if (type === 'sunny') {
                sun.setAttribute('visible', 'true');
                light.setAttribute('light', 'intensity: 1.2; color: #FFF');
                env.setAttribute('color', '#4CC3D9');
                status.innerText = "Current Weather: Sunny ‚òÄÔ∏è";
            } else if (type === 'rainy') {
                rain.setAttribute('visible', 'true');
                light.setAttribute('light', 'intensity: 0.6; color: #889');
                env.setAttribute('color', '#5D6D7E');
                status.innerText = "Current Weather: Rainy üåßÔ∏è";
            } else if (type === 'night') {
                night.setAttribute('visible', 'true');
                light.setAttribute('light', 'intensity: 0.3; color: #555');
                env.setAttribute('color', '#17202A');
                status.innerText = "Current Weather: Night üåô";
            }
        }
    </script>
</head>

<body style="margin: 0; overflow: hidden;">

    <div id="status-text">Scan Custom Marker to Start</div>
    
    <div class="ui-container">
        <button class="btn btn-sun" onclick="setWeather('sunny')">‚òÄÔ∏è SUN</button>
        <button class="btn btn-rain" onclick="setWeather('rainy')">üåßÔ∏è RAIN</button>
        <button class="btn btn-night" onclick="setWeather('night')">üåô NIGHT</button>
    </div>

    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false; patternRatio: 0.50" 
             renderer="logarithmicDepthBuffer: true;"
             vr-mode-ui="enabled: false">
        
        <a-entity id="dir-light" light="type: directional; intensity: 1;" position="1 2 1"></a-entity>
        <a-light type="ambient" intensity="0.5"></a-light>

        <a-marker type="pattern" url="marker.patt">
            
            <a-cylinder id="env-base" position="0 0 0" radius="1.5" height="0.1" color="#4CC3D9" opacity="0.9"></a-cylinder>
            
            <a-cone position="-0.8 0.5 -0.5" color="#2ECC71" radius-bottom="0.3" height="0.8"></a-cone>
            <a-box position="0.5 0.3 0" color="#F1C40F" scale="0.6 0.6 0.6"></a-box>

            <a-entity id="sun" visible="true" position="0 2 -1">
                <a-sphere color="#FFC107" radius="0.5" animation="property: rotation; to: 0 360 0; loop: true; dur: 5000"></a-sphere>
                <a-ring color="#FF9800" radius-inner="0.6" radius-outer="0.7" animation="property: scale; dir: alternate; to: 1.1 1.1 1.1; loop: true; dur: 1000"></a-ring>
            </a-entity>

            <a-entity id="rain" visible="false" position="0 1.5 0">
                <a-sphere color="grey" radius="0.4" position="0 0.5 0"></a-sphere>
                <a-sphere color="grey" radius="0.3" position="-0.4 0.4 0.2"></a-sphere>
                <a-entity>
                    <a-cylinder color="#2196F3" height="0.1" radius="0.02" position="-0.2 -0.2 0" animation="property: position; to: -0.2 -1 0; loop: true; dur: 500"></a-cylinder>
                    <a-cylinder color="#2196F3" height="0.1" radius="0.02" position="0.2 -0.4 0" animation="property: position; to: 0.2 -1 0; loop: true; dur: 600"></a-cylinder>
                    <a-cylinder color="#2196F3" height="0.1" radius="0.02" position="0 -0.3 0.2" animation="property: position; to: 0 -1 0.2; loop: true; dur: 400"></a-cylinder>
                </a-entity>
            </a-entity>

            <a-entity id="night" visible="false" position="0 2 -1">
                <a-sphere color="#ECEFF1" radius="0.4"></a-sphere>
                <a-sphere color="yellow" radius="0.05" position="0.8 0.5 0"></a-sphere>
                <a-sphere color="yellow" radius="0.05" position="-0.8 -0.5 0"></a-sphere>
            </a-entity>

        </a-marker>

        <a-entity camera></a-entity>

    </a-scene>
</body>
</html>
